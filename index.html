<html>
  <body>
    <link rel="stylesheet" href="style.css">

    

    <button id="reset-button">Master Reset</button><br>

    <label for="volume-control">Master Volume</label><br>
    <input type="range" id="volume-control" min="0" max="1" step="0.05" value=".2" oninput="updateAmpOutput(this.value, 'volume-amplitude')">
    <output id="volume-amplitude">20%</output><br>
    
    


    <div id = "lowpass-filter" >
      <h2>Low-pass Filter</h2>
      <label for="filter-control">Cuttoff Frequency</label><br>
      <input type="range" id="filter-control" min="0" max="50" step="1" value="48.38483" oninput="updateFilterOutput(this.value, 'filter-output')">
      <output id="filter-output">16000 Hz</output>
    </div>

    <div id="note-selects-div">
      <h2>Synthesizer Keyboard</h2>
      <button class="white key" data-frequency="261.63">C4</button>
      <button class="black key" data-frequency="277.18">C4#</button>
      <button class="white key" data-frequency="293.66">D4</button>
      <button class="black key" data-frequency="311.13">D4#</button>
      <button class="white key" data-frequency="329.63">E4</button>
      <button class="white key" data-frequency="349.23">F4</button>
      <button class="black key" data-frequency="369.99">F4#</button>
      <button class="white key" data-frequency="392">G4</button>
      <button class="black key" data-frequency="415.30">G4#</button>
      <button class="white key" data-frequency="440">A4</button>
      <button class="black key" data-frequency="466.16">A4#</button>
      <button class="white key" data-frequency="493.88">B4</button>
      <button class="white key" data-frequency="523.25">C5</button>
      <button class="black key" data-frequency="554.37">C5#</button>
      <button class="white key" data-frequency="587.33">D5</button>
      <button class="black key" data-frequency="622.25">D5#</button>
      <button class="white key" data-frequency="659.25">E5</button>
      <button class="white key" data-frequency="698.46">F5</button>
      <button class="black key" data-frequency="739.99">F5#</button>
      <button class="white key" data-frequency="784">G5</button>
      <button class="black key" data-frequency="830.61">G5#</button>
      <button class="white key" data-frequency="880">A5</button>
      <button class="black key" data-frequency="932.33">A5#</button>
      <button class="white key" data-frequency="987.77">B5</button> <br><br>

      <label for="tempo-control">Tempo</label><br>
      <input type="range" id="tempo-control" min="30" max="300" step="5" value="60" oninput="updateTempoOutput(this.value, 'tempo-output')">
      <output id="tempo-output">60 BPM</output> <br><br>

    </div>

    <!-- radio buttons for the oscillators, begins with sine - checked -->
    <div class = "oscillator-container">
      <div class = "oscillator-controls-container">
        <h2>Oscillator Mixer</h2>
        <label for="sin-level">Sine Wave</label><br>
        <input type="range" id="sin-level" min="0" max="1" step="0.05" value="1" oninput="updateSinOutput(this.value, 'sin-output')">
        <output id="sin-output">100%</output><br>

        <label for="square-level">Square Wave</label><br>
        <input type="range" id="square-level" min="0" max="1" step="0.05" value="0" oninput="updateSquareOutput(this.value, 'square-output')">
        <output id="square-output">0%</output><br>

        <label for="triangle-level">Triangle Wave</label><br>
        <input type="range" id="triangle-level" min="0" max="1" step="0.05" value="0" oninput="updateTriangleOutput(this.value, 'triangle-output')">
        <output id="triangle-output">0%</output><br>

        <label for="sawtooth-level">Sawtooth Wave</label><br>
        <input type="range" id="sawtooth-level" min="0" max="1" step="0.05" value="0" oninput="updateSawtoothOutput(this.value, 'sawtooth-output')">
        <output id="sawtooth-output">0%</output><br>
      </div>
      <div class = "waves-image-container">
        <img src="Types_of_Soundwaves.jpg" alt="waves" class="adsr-image">
      </div>

    </div>


    <!-- script to update slider output values-->
    <script>
        function updateAmpOutput(value, outputId) {
          document.getElementById(outputId).textContent = parseInt(value*100, 10)+ '%';
        }
        function updateSustainOutput(value, outputId) {
          document.getElementById(outputId).textContent = parseInt(value*100, 10)+ '%';
        }
        function updateTempoOutput(value, outputId) {
          document.getElementById(outputId).textContent = value + ' BPM';
        }
        function updateFilterOutput(value, outputId) {
          document.getElementById(outputId).textContent = logSliderFreq(value) + ' Hz';
        }
        function updateSinOutput(value, outputId) {
          document.getElementById(outputId).textContent = parseInt(value*100, 10)+ '%';
        }
        function updateSquareOutput(value, outputId) {
          document.getElementById(outputId).textContent = parseInt(value*100, 10)+ '%';
        }
        function updateTriangleOutput(value, outputId) {
          document.getElementById(outputId).textContent = parseInt(value*100, 10)+ '%';
        }
        function updateSawtoothOutput(value, outputId) {
          document.getElementById(outputId).textContent = parseInt(value*100, 10)+ '%';
        }
        function updateOutput(value, outputId) {
          document.getElementById(outputId).textContent = value + ' s';
        }
        function updateVibratoOutput(value, outputId) {
          document.getElementById(outputId).textContent = parseInt((value/5)*100, 10) + '%';
        }
        function updateVibratoSpeedOutput(value, outputId) {
          document.getElementById(outputId).textContent = value + ' Hz';
        }
        function updateTremoloOutput(value, outputId) {
          document.getElementById(outputId).textContent = parseInt((value/0.9)*100, 10) + '%';
        }
        function updateTremoloSpeedOutput(value, outputId) {
          document.getElementById(outputId).textContent = value + ' Hz';
        }

        function resetSliders() {
            updateAmpOutput(0.2, 'volume-amplitude');
            updateSustainOutput(0.8, 'sustainVolume-output');
            updateTempoOutput(60, 'tempo-output');
            updateFilterOutput(48.38483, 'filter-output');
            updateSquareOutput(0, 'square-output');
            updateTriangleOutput(0, 'triangle-output');
            updateSawtoothOutput(0, 'sawtooth-output');
            updateSinOutput(1, 'sin-output');
            updateOutput(0.3, 'attack-output');
            updateOutput(0.3, 'decay-output');
            updateOutput(0.5, 'sustain-output');
            updateOutput(0.3, 'release-output');
            updateVibratoOutput(0, 'vibrato-output'); 
            updateVibratoSpeedOutput(0, 'vibrato-speed-output');
            updateTremoloOutput(0, 'tremolo-output'); 
            updateTremoloSpeedOutput(0, 'tremolo-speed-output');

        }

        function sirenSliders() {
          updateSinOutput(0, 'sin-output');
          updateSquareOutput(1, 'square-output');
          updateTempoOutput(120, 'tempo-output');

          updateAmpOutput(0.2, 'volume-amplitude');
          updateSustainOutput(0.8, 'sustainVolume-output');
          updateFilterOutput(48.38483, 'filter-output');
          updateTriangleOutput(0, 'triangle-output');
          updateSawtoothOutput(0, 'sawtooth-output');
          updateOutput(0.3, 'attack-output');
          updateOutput(0.3, 'decay-output');
          updateOutput(0.5, 'sustain-output');
          updateOutput(0.3, 'release-output');
          updateVibratoOutput(0, 'vibrato-output'); 
          updateVibratoSpeedOutput(0, 'vibrato-speed-output');
          updateTremoloOutput(0, 'tremolo-output'); 
          updateTremoloSpeedOutput(0, 'tremolo-speed-output');
        }

            // Attach event listener to reset button
        document.getElementById('reset-button').addEventListener('click', resetSliders);
        
    </script>

    <!-- ADSR sliders-->
    <div class="envelope-container">
      <div class = "controls-container">
        <h2>ADSR Envelope</h2>
        <label for="attack-control">Attack Time</label><br>
        <input type="range" id="attack-control" value="0.3" min="0" max="5" step="0.02" oninput="updateOutput(this.value, 'attack-output')">
        <output id="attack-output">0.3 s</output><br>

        <label for="decay-control">Decay Time</label><br>
        <input type="range" id="decay-control" value="0.3" min="0" max="0.5" step="0.02" oninput="updateOutput(this.value, 'decay-output')">
        <output id="decay-output">0.3 s</output><br>

        <label for="sustain-level">Sustain Level</label><br>
        <input type="range" id="sustain-level" min="0" max="1" step="0.05" value=".8" oninput="updateSustainOutput(this.value, 'sustainVolume-output')">
        <output id="sustainVolume-output">80%</output><br>

        <label for="sustain-control">Sustain Time</label><br>
        <input type="range" id="sustain-control" value="0.5" min="0" max="2" step="0.05" oninput="updateOutput(this.value, 'sustain-output')">
        <output id="sustain-output">0.5 s</output><br>

        <label for="release-control">Release Time</label><br>
        <input type="range" id="release-control" value="0.3" min="0" max="2" step="0.05" oninput="updateOutput(this.value, 'release-output')">
        <output id="release-output">0.3 s</output><br>
        

      </div>
      <div class = "envelope-image-container">
        <img src="adsrenvelope.png" alt="ADSR Envelope" class="adsr-image">
      </div>
    </div>

    <div class = "LFO-container">
      <div class ="LFOcontrols-container">
        <h2>LFO</h2>
        <label for="vibrato-amount-control">Vibrato Amount</label><br>
        <input type="range" id="vibrato-amount-control" value="0" min="0" max="5" step="0.1" oninput = "updateVibratoOutput(this.value, 'vibrato-output')">
        <output id = "vibrato-output">0%</output><br>
        <label for="vibrato-speed-control">Vibrato Speed</label><br>
        <input type="range" id="vibrato-speed-control" value="0" min="0" max="30" step="1" oninput = "updateVibratoSpeedOutput(this.value, 'vibrato-speed-output')">
        <output id = "vibrato-speed-output">0 Hz</output><br>
        
        <label for="tremolo-amount-control">Tremolo Amount</label><br>
        <input type="range" id="tremolo-amount-control" value="0" min="0" max="0.9" step="0.09" oninput = "updateTremoloOutput(this.value, 'tremolo-output')">
        <output id = "tremolo-output">0%</output><br>
        <label for="tremolo-speed-control">Tremolo Speed</label><br>
        <input type="range" id="tremolo-speed-control" value="0" min="0" max="15" step="1" oninput = "updateTremoloSpeedOutput(this.value, 'tremolo-speed-output')">
        <output id = "tremolo-speed-output">0 Hz</output>
      </div>
      <div class = "LFO-image-container">
        <img src="Vibrato_and_tremolo_graph.PNG" alt="LFO" class="LFO-image">
      </div>
    </div>


    <div id="delay-options">
      <h2>Delay</h2>
      <label for="delay-time-control">Delay Time</label><br>
      <input id='delay-time-control' type="range" min = "0" max = "1" step='0.05' value='0'><br>
      <label for="feedback-control">Delay Feedback</label><br>
      <input id='feedback-control' type="range" min = "0" max = ".9" step='0.05' value='0'><br>
      <label for="delay-amount-control">Delay Amount</label><br>
      <input id='delay-amount-control' type="range" min = "0" max = ".9" step='0.05' value='0'>
    </div>
    <script src="synth.js"></script>
  </body>
</html>